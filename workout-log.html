<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Log - BuiltByBanji</title>
  <link rel="stylesheet" href="workout-log.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">BuiltByBanji</div>
    <div class="hamburger" onclick="toggleMenu()">&#9776;</div>
    <ul class="nav-links">
      <li><a href="index.html#home">Home</a></li>
      <li><a href="index.html#services">Services</a></li>
      <li><a href="index.html#about">About</a></li>
      <li><a href="index.html#trial">Free Trial</a></li>
      <li><a href="index.html#contact">Contact</a></li>
    </ul>
  </nav>

  <main class="workout-log">
    <h2>Workout Log</h2>

    <!-- Progress Section -->
    <section class="progress-section">
      <h2>Your Progress</h2>
      <div class="progress-ring">
        <svg class="progress-circle" width="150" height="150">
          <circle
            class="progress-bg"
            cx="75" cy="75" r="65"
            stroke="#333" stroke-width="15" fill="none"
          />
          <circle
            class="progress-bar"
            cx="75" cy="75" r="65"
            stroke="#ff2b2b" stroke-width="15" fill="none"
            stroke-dasharray="408" stroke-dashoffset="408"
          />
        </svg>
        <div class="progress-text" id="progressText">0%</div>
      </div>
    </section>

    <!-- Logging Section -->
    <section class="log-section">
      <h2>Log Workout</h2>

      <form id="workoutForm">
        <!-- Category -->
        <label for="category">Category:</label>
        <select id="category" required>
          <option value="">-- Select Category --</option>
          <option value="upper">Upper Body</option>
          <option value="lower">Lower Body</option>
        </select>

        <!-- Exercise -->
        <label for="exercise">Exercise:</label>
        <select id="exercise" required>
          <option value="">-- Select Exercise --</option>
        </select>

        <label for="weight">Weight (kg):</label>
        <input type="number" id="weight" placeholder="e.g. 60" required>

        <label for="reps">Reps:</label>
        <input type="number" id="reps" placeholder="e.g. 10" required>

        <button type="submit">Add</button>
      </form>

      <!-- Workout History -->
      <h3>Workout History</h3>
      <ul id="workoutHistory"></ul>
    </section>
    <section class="pr-section">
  <h2>Personal Records</h2>
  <ul id="prList"></ul>
</section>
   <!-- Share Section -->
<section class="share-section">
  <h3>Share Your Progress</h3>
  <div class="share-icons">
    <a href="https://wa.me/?text=Check%20out%20my%20workout%20progress%20on%20BuiltByBanji!" target="_blank" class="share-btn">
      <!-- WhatsApp SVG -->
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="#25D366" viewBox="0 0 24 24">
        <path d="M20.52 3.48A11.77 11.77 0 0012 .25C5.62.25.25 5.62.25 12c0 2.12.55 4.2 1.6 6.04L0 24l6.2-1.63a11.75 11.75 0 005.8 1.49h.01c6.38 0 11.75-5.37 11.75-11.75a11.77 11.77 0 00-3.24-8.63zM12 21.5c-1.84 0-3.65-.49-5.24-1.42l-.38-.23-3.68.97.98-3.58-.25-.37A9.46 9.46 0 012.5 12c0-5.23 4.27-9.5 9.5-9.5 2.54 0 4.93.99 6.72 2.78a9.46 9.46 0 012.78 6.72c0 5.23-4.27 9.5-9.5 9.5z"/><path d="M16.57 14.26c-.27-.13-1.62-.8-1.87-.89-.25-.09-.43-.13-.62.13s-.71.89-.87 1.07c-.16.18-.32.2-.6.07-.27-.13-1.14-.42-2.17-1.34a8.03 8.03 0 01-1.48-1.83c-.16-.27-.02-.42.12-.55.13-.13.27-.32.4-.49.13-.18.18-.3.27-.49.09-.18.04-.36-.02-.49-.07-.13-.62-1.49-.85-2.05-.22-.53-.44-.46-.62-.47h-.53c-.18 0-.49.07-.75.36s-.98.96-.98 2.34 1 2.72 1.14 2.91c.13.18 1.96 2.99 4.76 4.19.67.29 1.19.46 1.6.59.67.21 1.28.18 1.77.11.54-.08 1.62-.66 1.85-1.3.23-.64.23-1.19.16-1.3-.06-.11-.24-.18-.51-.31z"/>
      </svg>
    </a>

    <a href="https://www.instagram.com/" target="_blank" class="share-btn">
      <!-- Instagram SVG -->
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="#E4405F" viewBox="0 0 24 24">
        <path d="M7.75 2h8.5A5.75 5.75 0 0122 7.75v8.5A5.75 5.75 0 0116.25 22h-8.5A5.75 5.75 0 012 16.25v-8.5A5.75 5.75 0 017.75 2zm0 1.5A4.25 4.25 0 003.5 7.75v8.5A4.25 4.25 0 007.75 20.5h8.5a4.25 4.25 0 004.25-4.25v-8.5A4.25 4.25 0 0016.25 3.5h-8.5z"/><path d="M12 7a5 5 0 110 10 5 5 0 010-10zm0 1.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm5.25-.88a1.13 1.13 0 110 2.25 1.13 1.13 0 010-2.25z"/>
      </svg>
    </a>

    <a href="https://twitter.com/intent/tweet?text=Just%20logged%20my%20progress%20on%20BuiltByBanji!" target="_blank" class="share-btn">
      <!-- Twitter SVG -->
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="#1DA1F2" viewBox="0 0 24 24">
        <path d="M19.633 7.997c.013.18.013.36.013.54 0 5.51-4.194 11.856-11.856 11.856-2.36 0-4.56-.69-6.406-1.873.33.038.648.05.99.05a8.34 8.34 0 005.18-1.78 4.183 4.183 0 01-3.907-2.9c.26.037.52.062.793.062.375 0 .75-.05 1.096-.144a4.178 4.178 0 01-3.352-4.1v-.05c.56.31 1.207.497 1.894.523a4.172 4.172 0 01-1.86-3.48c0-.76.2-1.45.56-2.05a11.84 11.84 0 008.6 4.36 4.713 4.713 0 01-.103-.96 4.176 4.176 0 014.175-4.175c1.2 0 2.28.497 3.04 1.294a8.23 8.23 0 002.65-1.02 4.17 4.17 0 01-1.83 2.3 8.36 8.36 0 002.41-.65 9.1 9.1 0 01-2.08 2.14z"/>
      </svg>
    </a>
  </div>
</section>


    <!-- Streak Tracker -->
<section class="streak-section">
  <h2>Streak Tracker</h2>
  <div class="streak-box">
    <div>
      <h3 id="currentStreak">0</h3>
      <p>Current Streak</p>
    </div>
    <div>
      <h3 id="bestStreak">0</h3>
      <p>Best Streak</p>
    </div>
  </div>
</section>


    <!-- Chart Section -->
    <section class="chart-section">
      <h2>Workout Volume Chart</h2>
      <canvas id="workoutChart"></canvas>
    </section>
  </main>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const exercises = {
      upper: [
        "Bench Press","Incline Bench Press","DB Bench Press","Shoulder Press",
        "Lateral Raise","Overhead Press","Barbell Row","Pull Ups",
        "Bicep Curls","Hammer Curls","Preacher Curls","Tricep Dips",
        "Triceps Pushdown","Lat Pulldown"
      ],
      lower: [
        "Barbell Squat","Bulgarian Split Squat","Hip Thrust","Deadlift",
        "Lunges","Leg Extension","Leg Curls","Leg Press",
        "Romanian Deadlift","Calf Raises"
      ]
    };

    const categorySelect = document.getElementById("category");
    const exerciseSelect = document.getElementById("exercise");
    const form = document.getElementById("workoutForm");
    const historyList = document.getElementById("workoutHistory");

    const progressBar = document.querySelector(".progress-bar");
    const progressText = document.getElementById("progressText");
    const totalTarget = 10; // daily goal
    let currentLogs = 0;

    // Chart.js setup
    const ctx = document.getElementById('workoutChart').getContext('2d');
    const workoutData = {};
    const workoutChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: [],
        datasets: [{
          label: 'Total Weight Lifted (kg)',
          data: [],
          backgroundColor: '#ff2b2b'
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: {
          x: { ticks: { color: '#fff' } },
          y: { ticks: { color: '#fff' } }
        }
      }
    });

    // Local Storage Helpers
    function saveHistory(history) {
      localStorage.setItem("workoutHistory", JSON.stringify(history));
    }
    function loadHistory() {
      return JSON.parse(localStorage.getItem("workoutHistory")) || [];
    }

    // Update exercises dynamically
    categorySelect.addEventListener("change", () => {
      const category = categorySelect.value;
      exerciseSelect.innerHTML = `<option value="">-- Select Exercise --</option>`;
      if (exercises[category]) {
        exercises[category].forEach(ex => {
          const option = document.createElement("option");
          option.value = ex;
          option.textContent = ex;
          exerciseSelect.appendChild(option);
        });
      }
    });

    // Update progress ring
    function updateProgress() {
      let percent = Math.min((currentLogs / totalTarget) * 100, 100);
      let offset = 408 - (408 * percent) / 100;
      progressBar.style.strokeDashoffset = offset;
      progressText.textContent = `${Math.round(percent)}%`;
    }

    // Escape HTML
    function escapeHtml(str) {
      return String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;")
        .replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");
    }

    // Render history
    function renderHistory() {
      historyList.innerHTML = "";
      const history = loadHistory();
      currentLogs = history.length;

      // Reset chart data
      Object.keys(workoutData).forEach(key => delete workoutData[key]);

      history.forEach((item, index) => {
        const li = document.createElement("li");
        li.className = "history-item";
        li.innerHTML = `
          <div class="history-info">
            <strong>[${item.category.toUpperCase()}]</strong> ${escapeHtml(item.exercise)}<br>
            ${escapeHtml(item.weight)} kg Ã— ${escapeHtml(item.reps)} reps
            <div class="history-date">${item.date}</div>
          </div>
          <button class="delete-btn" data-index="${index}">&times;</button>
        `;
        historyList.appendChild(li);

        // Update workout volume
        const totalWeight = item.weight * item.reps;
        if (workoutData[item.exercise]) {
          workoutData[item.exercise] += totalWeight;
        } else {
          workoutData[item.exercise] = totalWeight;
        }
      });

      // Update chart
      workoutChart.data.labels = Object.keys(workoutData);
      workoutChart.data.datasets[0].data = Object.values(workoutData);
      workoutChart.update();

      updateProgress();
    }

    // Add workout
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const category = categorySelect.value;
      const exercise = exerciseSelect.value;
      const weight = parseFloat(document.getElementById("weight").value);
      const reps = parseInt(document.getElementById("reps").value);

      if (!category || !exercise || !weight || !reps) {
        alert("Please complete all fields!");
        return;
      }

      const history = loadHistory();
      history.unshift({
        category,
        exercise,
        weight,
        reps,
        date: new Date().toLocaleString()
      });
      saveHistory(history);

      renderHistory();
      form.reset();
      exerciseSelect.innerHTML = `<option value="">-- Select Exercise --</option>`;
    });

    // Delete workout
    historyList.addEventListener("click", (e) => {
      if (e.target.classList.contains("delete-btn")) {
        const index = e.target.getAttribute("data-index");
        const history = loadHistory();
        history.splice(index, 1);
        saveHistory(history);
        renderHistory();
      }
    });

    renderHistory();
  });
  </script>
  
</body>
</html>
